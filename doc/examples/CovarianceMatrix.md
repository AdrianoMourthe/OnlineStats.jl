
# CovarianceMatrix


````julia
using OnlineStats
````





### Create covariance matrix with the first batch
````julia
obj = CovarianceMatrix(10 * randn(100, 5))
````





### Update model with many batches
````julia
for i = 1:10000
    update!(obj, 10 * randn(100, 5))
end
````





### Check estimate
````julia
julia> state(obj)
5x5 Array{Float64,2}:
 99.9321      0.0859509  -0.0183501    0.015274    -0.023904 
  0.0859509  99.8612      0.023056     0.111235    -0.0456005
 -0.0183501   0.023056   99.94        -0.0400685    0.0963559
  0.015274    0.111235   -0.0400685  100.021       -0.091906 
 -0.023904   -0.0456005   0.0963559   -0.091906   100.147    

````




````julia
julia> state(obj, true)
5x5 Array{Float64,2}:
  1.0           0.000860398  -0.000183619   0.000152776  -0.000238946
  0.000860398   1.0           0.000230789   0.00111301   -0.000455987
 -0.000183619   0.000230789   1.0          -0.000400763   0.000963142
  0.000152776   0.00111301   -0.000400763   1.0          -0.000918288
 -0.000238946  -0.000455987   0.000963142  -0.000918288   1.0        

````


